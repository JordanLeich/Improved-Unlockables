# Generated by BehavEd, THIS SCRIPT ADDS THE ACHIEVEMENT FOR DEFEATING GALACTUS ONLY!!!!
# ( "reset the machines" )
waittimed ( 3.000 )
# ( "do damage here" )
beams = getZoneVar("galhits" )
beams = iadd(beams, 1 )
setZoneVar("galhits", beams )
startCutScene("TRUE", "FALSE" )
setCombatNode("silversurfer1", "idle" )
copyOriginAndAngles("silversurfer1", "surferspot" )
hp = fmul(beams, 0.330 )
hp = fsub(1.000, hp )
gh = getHealthMax("galactus" )
newhealth = fmul(gh, hp )
if beams == 3
     # ( "PLAYER DEFEATS GALACTUS" )
     # ( "turn off nexus" )
     act("galactus_emp", "galactus_emp" )
     # ( "JEREMY CHANGE CAMERA POS AND ROT HERE" )
     # ( "first camera cut" )
     cameraMove(" -2879.000 3946.470 1.060 ", 0.000 )
     cameraPan(" 0.000 16.200 163.100 ", 0.000, "FALSE" )
     cameraFOV(70.000, 0.000 )
     cameraFade(0.000, 0.500 )
     waittimed ( 0.100 )
     setHealth("galactus", newhealth )
     setCombatNode("galactus", "deathgen" )
     sound (  "PLAY_SOUND", "char/galac_v/death", "", "" )
     # ( "JEREMY CHANGE TIMINGS HERE" )
     waittimed ( 2.500 )
     # ( "JEREMY CHANGE CAMERA POS AND ROT HERE (OPTIONAL)" )
     # ( "second camera cut" )
     # ( "killed 'im" )
     remove ( "roofy", "roofy" )
     remove ( "roofbot01", "roofbot01" )
     remove ( "roofbot02", "roofbot02" )
     remove ( "roofbot03", "roofbot03" )
     remove ( "roofbot04", "roofbot04" )
     waittimed ( 1.000 )
     # ( "blow up stuff on the rooftop here" )
     act("reset_machines", "reset_machines" )
     killme = getZoneVar("killme" )
     killEntity(killme )
     what = getZoneVar("controller" )
     remove ( what, what )
     waittimed ( 0.650 )
     # ( "slow time down" )
     setGameSpeed(0.500 )
     waittimed ( 1.895 )
     sound (  "PLAY_SOUND", "char/galac_v/death2", "", "" )
     waittimed ( 1.895 )
     # ( "normal speed again" )
     setGameSpeed(1.000 )
     waittimed ( 2.000 )
     # ( "----------------" )
     setEnable("blocker", "TRUE" )
     # ( "end of the battle" )
     # ( "" )
     setCombatNode("silversurfer1", "surferstand" )
     waittimed ( 0.100 )
     copyOriginAndAngles("silversurfer1", "surferspot" )
     waittimed ( 0.100 )
     cameraFocusToEntity("silversurfer", 360.000, 45.000, -1.570, -1.000 )
     waittimed ( 4.000 )
     spawn("treasurespot", "Galactus_treasure", "treasure", " 0.000 0.000 0.000 ", " 0.000 0.000 0.000 " )
     waittimed ( 0.100 )
     sound (  "PLAY_SOUND", "common/game/achievement", "", "" )
     createPopupDialogXml("dialogs/special/galactus_achievement" )
     waittimed ( 0.100 )
     awardAchievement("", "defeated_galactus" )
     awardReputation("", 125 )
     killEntity("galactus" )
     endCutScene("FALSE", "FALSE" )
     startConversation("act4/skrull/skrull5/4_skrull5_040" )
else
     # ( "PLAYER JUST HURTS GALACTUS" )
     cameraMove(" -2879.000 3946.470 1.060 ", 0.000 )
     cameraPan(" 0.000 16.200 163.100 ", 0.000, "FALSE" )
     cameraFOV(70.000, 0.000 )
     waittimed ( 0.100 )
     cameraFade(0.000, 0.500 )
     waittimed ( 0.100 )
     # ( "turn off nexus" )
     act("galactus_emp", "galactus_emp" )
     # ( "blow it up" )
     act("galactus_emp_implode", "galactus_emp_implode" )
     # ( "make galactus take damage" )
     act("hurt_galactus", "hurt_galactus" )
     setCombatNode("galactus", "nexus_lose" )
     setHealth("galactus", newhealth )
     # ( "speed up the rate he grows the ball for next time" )
     if beams == 1
          setZoneVar("growamount", 2 )
     else
          setZoneVar("growamount", 3 )
     endif
     waittimed ( 1.000 )
     # ( "blow up stuff on the rooftop here" )
     killme = getZoneVar("killme" )
     killEntity(killme )
     what = getZoneVar("controller" )
     remove ( what, what )
     waittimed ( 3.000 )
     act("reset_machines", "reset_machines" )
     # ( "----------------" )
     setEnable("blocker", "TRUE" )
     endCutScene("FALSE", "TRUE" )
     enemiesNoTarget("FALSE" )
     heroNoTarget("FALSE" )
     # ( "reset camera" )
     cameraReset( )
endif
setCombatNode("silversurfer1", "surferstand" )
copyOriginAndAngles("silversurfer1", "surferspot" )

