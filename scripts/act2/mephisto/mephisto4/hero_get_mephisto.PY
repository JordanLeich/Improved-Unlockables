# Generated by BehavEd
# ( "player wins the battle here" )
setDefaultTarget("" )
setGameFlag("bosses", 18, 1 )
copyOriginAndAngles("dead_hero", "wp_getim01" )
cameraMove(" 765.700 -3653.690 90.000 ", 0.500 )
cameraPan(" 0.000 33.000 101.800 ", 0.500, "FALSE" )
waittimed ( 0.100 )
playanim (  "EA_PAIN_HIGH1", "mephisto", "NONE", "" )
setCombatNode("dead_hero", "power_smash" )
waittimed ( 1.500 )
spawnEffect("mephisto", "map/mephisto/mephisto_explode", " 0.000 0.000 0.000 ", " 0.000 0.000 0.000 " )
spawn("mephisto", "mephisto_treasure", "mephisto_treasure", " 0.000 0.000 0.000 ", " 0.000 0.000 0.000 " )
objective ( "Mephisto_Obj20",  "EOBJCMD_COMPLETE" )
objective ( "Mephisto_Obj70",  "EOBJCMD_COMPLETE" )
# ( "get the locked character from a gameflag" )
get_locked_char_id_num = getGameVar("sacd_hero" )
got_locked_char_name = getHeroName(get_locked_char_id_num )
unlockCharacter(got_locked_char_name, "SKIN" )
sound (  "PLAY_SOUND", "common/game/achievement", "", "" )
createPopupDialogXml("dialogs/special/mephisto_achievement" )
awardAchievement("", "defeated_mephisto" )
setGameFlag("bosses", 18, 1 )
awardReputation("", 125 )
remove ( "mephisto", "mephisto" )
remove ( "dead_hero", "dead_hero" )
waittimed ( 4.000 )
endCutScene("FALSE", "TRUE" )
waittimed ( 1.000 )
jeandead = getGameFlag("mephisto3", 2 )
if jeandead == 1
     startConversation("act2/mephisto/mephisto4/2_mephisto4_040" )
else
     startConversation("act2/mephisto/mephisto4/2_mephisto4_030" )
endif

