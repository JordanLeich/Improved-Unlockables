# Generated by BehavEd
# ( "blackheart dies" )
freesouls = getZoneVar("freesouls" )
if freesouls < 6
     # ( "not really dead until all the souls are dead" )
     # ( "find a place to res blackheart" )
     setZoneVar("reshere", 1 )
     act("res_blackheart", "res_blackheart" )
     waittimed ( 0.100 )
     spawnEffect("blackheart", "map/mephisto/statue_soul_release", " 0.000 0.000 0.000 ", " 0.000 -90.000 0.000 " )
     remove ( "blackheart", "blackheart" )
else
     # ( "all souls are dead, he can die now." )
     setMusicOverride("", 1.000 )
     waittimed ( 0.100 )
     sound (  "PLAY_SOUND", "common/game/achievement", "", "" )
     createPopupDialogXml("dialogs/special/blackheart_achievement" )
     awardAchievement("", "defeated_blackheart" )
     awardReputation("", 50 )
     setGameFlag("bosses", 17, 1 )
     remove ( "ff_cages", "ff_cages" )
     spawn("blackheart", "Blackheart_treasure", "treasure", " 0.000 0.000 0.000 ", " 0.000 0.000 0.000 " )
     waittimed ( 0.100 )
     unlockCharacter("nightcrawlerdlc", "" )
     waittimed ( 0.100 )
     unlockCharacter("thing", "" )
     waittimed ( 0.100 )
     unlockCharacter("invisiblewoman", "" )
     waittimed ( 0.100 )
     unlockCharacter("blackhart", "" )
     waittimed ( 0.100 )
     unlockCharacter("mephisto2", "" )
     waittimed ( 0.100 )
     unlockCharacter("professorx", "" )
     waittimed ( 0.100 )
     unlockCharacter("Zealot", "" )
     waittimed ( 0.100 )
     unlockCharacter("rei", "" )
     waittimed ( 0.100 )
     unlockCharacter("wendigo", "" )
     waittimed ( 0.100 )
     unlockCharacter("WTiger", "" )
     waittimed ( 0.100 )
     unlockCharacter("wic", "" )
     waittimed ( 0.100 )
     unlockCharacter("wolfsbane", "" )
     waittimed ( 0.100 )
     unlockCharacter("Vapor", "" )
     waittimed ( 0.100 )
     unlockCharacter("Wallflower", "" )
     waittimed ( 0.100 )
     unlockCharacter("surge", "" )
     waittimed ( 0.100 )
     unlockCharacter("reaper", "" )
     waittimed ( 0.100 )
     unlockCharacter("Shatter", "" )
     waittimed ( 0.100 )
     unlockCharacter("Samurai", "" )
     waittimed ( 0.100 )
     unlockCharacter("blob_hero", "" )
     waittimed ( 0.100 )
     unlockCharacter("pheonix", "" )
endif

